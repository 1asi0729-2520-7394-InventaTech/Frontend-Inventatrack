<div class="reports-container" *ngIf="!loading; else loadingTpl">
  <h2 class="title">ðŸ“Š Reportes de Inventario</h2>

  <button class="btn-export" (click)="exportPDF()">ðŸ“„ Exportar Reporte a PDF</button>

  <div id="report-section" class="report-content">
    <section class="report-section">
      <h3 class="section-title">Productos con Cantidad Baja (&lt; 10)</h3>
      <p *ngIf="lowQuantityProducts.length === 0" class="empty-message">No hay productos con cantidad baja.</p>
      <ul *ngIf="lowQuantityProducts.length > 0" class="product-list">
        <li *ngFor="let p of lowQuantityProducts" class="product-item">
          <span class="product-name">{{ p.name }}</span>
          <span class="product-quantity">Cantidad: <strong>{{ p.quantity }}</strong></span>
        </li>
      </ul>
    </section>

    <section class="report-section">
      <h3 class="section-title">Productos PrÃ³ximos a Vencer (7 dÃ­as)</h3>
      <p *ngIf="expiringSoonProducts.length === 0" class="empty-message">No hay productos prÃ³ximos a vencer.</p>
      <ul *ngIf="expiringSoonProducts.length > 0" class="product-list">
        <li *ngFor="let p of expiringSoonProducts" class="product-item">
          <span class="product-name">{{ p.name }}</span>
          <span class="product-expiration">Vence el: <strong>{{ p.expirationDate | date:'dd/MM/yyyy' }}</strong></span>
        </li>
      </ul>
    </section>
  </div>
</div>

<ng-template #loadingTpl>
  <p class="loading-message">Cargando reportes...</p>
</ng-template>
